<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blessing</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        body {
            background-color: #f8f9fa;
            height: 100vh;
        }
        .float-box {
            position: absolute;
            padding: 8px 15px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            pointer-events: none;
            opacity: 0; /* 初始透明 */
            will-change: opacity, transform;
            transition: opacity 1s ease; /* 渐入渐出过渡 */
        }
        .float-text {
            color: #fff;
            font-size: 16px;
            font-family: "Microsoft YaHei", sans-serif;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <script>
        // 女生专属祝福语列表
        const blessingList = [
            "愿你每天都闪闪发光",
            "你值得世间所有的温柔与美好✨",
            "心之所向皆坦途",
            "愿你被世界温柔以待",
            "你的存在本身，就是一件很美好的事",
            "愿你拥有发现美的眼睛，和感知幸福的心",
            "平安喜乐，不止今天",
            "天冷了多穿衣",
            "记得好好吃饭",
            "永远开心永远明媚",
            "就算步子很小，也要一步步前进",
            "你未必光芒万丈，但始终温暖有光",
            "阳光总在你身边",
            "可爱又迷人的你",
            "春风不及你温柔",
            "喜乐不止，安宁常伴",
            "你本身就很耀眼",
            "你值得被偏爱",
            "风禾尽起，皆得所愿",
            "素履以往，自在清欢",
        ];

        // 文字框颜色列表（温柔明亮系）
        const boxColors = [
            '#FF6B8B', '#FF9E7D', '#FFD166', '#66D2A0', 
            '#64B5F6', '#9388DB', '#EC4899', '#60A5FA'
        ];

        // 配置参数
        const minSize = 14;         // 最小字体大小
        const maxSize = 18;         // 最大字体大小
        const spawnInterval = 200;  // 生成间隔(ms) - 加快初期填充速度
        const maxRotation = 8;      // 最大旋转角度(deg)
        const fullScreenCount = 30; // 满屏阈值（达到此数量后开始消失）
        const fadeTime = 1500;      // 渐入渐出时长(ms)

        // 跟踪当前文字框数量
        let currentCount = 0;

        // 创建文字框
        function createFloatBox() {
            // 创建文字框容器
            const box = document.createElement('div');
            box.className = 'float-box';
            
            // 创建文字元素
            const text = document.createElement('div');
            text.className = 'float-text';
            text.innerText = blessingList[Math.floor(Math.random() * blessingList.length)];
            box.appendChild(text);
            
            // 随机样式
            box.style.backgroundColor = boxColors[Math.floor(Math.random() * boxColors.length)];
            const fontSize = Math.random() * (maxSize - minSize) + minSize;
            text.style.fontSize = `${fontSize}px`;
            
            // 随机旋转角度
            const rotation = (Math.random() - 0.5) * 2 * maxRotation;
            box.style.transform = `rotate(${rotation}deg)`;
            
            // 随机位置（确保完全显示在屏幕内）
            const boxWidth = 200;  // 预留文字框宽度
            const boxHeight = 80;  // 预留文字框高度
            const maxLeft = window.innerWidth - boxWidth;
            const maxTop = window.innerHeight - boxHeight;
            box.style.left = `${Math.random() * maxLeft}px`;
            box.style.top = `${Math.random() * maxTop}px`;
            
            document.body.appendChild(box);
            currentCount++;
            
            // 触发渐入效果
            setTimeout(() => {
                box.style.opacity = 1;
            }, 50);
            
            // 满屏后才开始设置消失计时器
            if (currentCount >= fullScreenCount) {
                // 随机延迟后消失（避免同时消失）
                const randomDelay = Math.random() * 3000; // 0-3秒随机延迟
                setTimeout(() => {
                    box.style.opacity = 0;
                    // 淡出后移除元素
                    setTimeout(() => {
                        if (box.parentNode) {
                            document.body.removeChild(box);
                            currentCount--;
                        }
                    }, fadeTime);
                }, 1000 + randomDelay); // 基础显示1秒后再开始随机消失
            }
        }
        
        // 定时生成新的文字框
        const spawnTimer = setInterval(() => {
            // 超过满屏阈值后降低生成频率
            if (currentCount > fullScreenCount * 1.2) {
                return; // 暂时停止生成，等待消失
            }
            createFloatBox();
        }, spawnInterval);
        
        // 初始化生成一批（快速填充）
        for (let i = 0; i < 10; i++) {
            setTimeout(() => {
                createFloatBox();
            }, i * 100); // 错开生成时间
        }
        
        // 窗口 resize 时重新布局
        window.addEventListener('resize', () => {
            const boxes = document.querySelectorAll('.float-box');
            currentCount = boxes.length;
            boxes.forEach(box => {
                const boxWidth = 200;
                const boxHeight = 80;
                const maxLeft = window.innerWidth - boxWidth;
                const maxTop = window.innerHeight - boxHeight;
                box.style.left = `${Math.random() * maxLeft}px`;
                box.style.top = `${Math.random() * maxTop}px`;
            });
        });
    </script>
</body>
</html>



